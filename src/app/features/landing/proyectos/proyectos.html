<section class="w-full py-8 md:py-12 lg:py-16 bg-base-100">
  <div class="w-full px-3 md:px-6 lg:px-8 max-w-7xl mx-auto">
    <!-- Título responsivo -->
    <h3 class="mb-6 md:mb-8 lg:mb-10 font-bold text-xl md:text-2xl lg:text-3xl text-neutral">
      NUESTROS PROYECTOS
    </h3>

    <!-- Contenedor del carrusel -->
    <div class="relative overflow-x-hidden overflow-y-visible w-full py-4">
      <div
        class="flex gap-3 md:gap-4 lg:gap-6 px-1"
        [style.transform]="'translateX(-' + translateX() + '%)'"
        style="transition: transform 10s"
      >
        <!-- Duplicar proyectos para loop infinito -->
        @for (proyecto of proyectos(); track proyecto.img + '-1') {
          <div
            class="shrink-0 w-full sm:w-[calc(50%-0.75rem)] lg:w-[calc(33.333%-1rem)] flex flex-col items-center"
          >
            <figure
              class="h-40 sm:h-48 md:h-56 lg:h-64 w-full flex items-center justify-center mb-4"
            >
              <img
                [ngSrc]="proyecto.img"
                [alt]="proyecto.title + ' - ' + proyecto.category"
                width="400"
                height="400"
                class="w-full h-full object-cover mask mask-circle shadow-lg hover:shadow-xl hover:scale-105 transition-transform duration-300"
                priority
              />
            </figure>
            <h4 class="text-base md:text-lg lg:text-xl font-bold text-neutral mb-2 text-center">
              {{ proyecto.title }}
            </h4>
            <span class="text-xs md:text-sm font-semibold text-bluerms mb-2">
              {{ proyecto.category }}
            </span>
            <p class="text-xs md:text-sm text-neutral/70 mb-3 md:mb-4 text-center px-2">
              {{ proyecto.description }}
            </p>
            <a
              href="#"
              class="btn btn-sm md:btn-md bg-bluerms hover:bg-bluerms/90 text-white border-none rounded-lg transition-colors duration-200"
            >
              Ver más
            </a>
          </div>
        }
        <!-- Segunda copia para loop infinito -->
        @for (proyecto of proyectos(); track proyecto.img + '-2') {
          <div
            class="shrink-0 w-full sm:w-[calc(50%-0.75rem)] lg:w-[calc(33.333%-1rem)] flex flex-col items-center"
          >
            <figure
              class="h-40 sm:h-48 md:h-56 lg:h-64 w-full flex items-center justify-center mb-4"
            >
              <img
                [ngSrc]="proyecto.img"
                [alt]="proyecto.title + ' - ' + proyecto.category"
                width="400"
                height="400"
                class="w-full h-full object-cover mask mask-circle shadow-lg hover:shadow-xl hover:scale-105 transition-transform duration-300"
              />
            </figure>
            <h4 class="text-base md:text-lg lg:text-xl font-bold text-neutral mb-2 text-center">
              {{ proyecto.title }}
            </h4>
            <span class="text-xs md:text-sm font-semibold text-bluerms mb-2">
              {{ proyecto.category }}
            </span>
            <p class="text-xs md:text-sm text-neutral/70 mb-3 md:mb-4 text-center px-2">
              {{ proyecto.description }}
            </p>
            <a
              href="#"
              class="btn btn-sm md:btn-md bg-bluerms hover:bg-bluerms/90 text-white border-none rounded-lg transition-colors duration-200"
            >
              Ver más
            </a>
          </div>
        }
      </div>
    </div>
  </div>
</section>
